---
title: 关于Ubuntu的一些
tags: Ubuntu
categories: Ubuntu
comments: true
date: 2017-11-22 16:19:14
---


### 关于Ubuntu的一些有用的东西

2004年Ubuntu诞生。

<!--more-->

Linux　Mint基于Ubuntu.

Ubuntu Kylin 为Ubuntu官方的一个分支，该版本专门为中国用户定制。

`sudo lsb_release -a`：输出系统的版本。

Kubuntu是使用KDE桌面管理器取代GNOME桌面管理器作为其默认的桌面管理器的版本。

一般版本中的`LTS`意味着“Long Term Support”的意思，表示长期支持版本，LTS桌面版有着３年的支持时间，LTS服务器版有着长达５年的支持时间。

学习新技术，最重要的是学习的兴趣，兴趣是最好的老师。

学习的过程是很艰难的，人的记忆也不是完美的，遗忘无法避免，再好的记性也不如烂笔头和破键盘。如果要有自己的积累，就必须克服这种遗忘，尤其是那些排除重重困难的Troubleshooting、那些很少遇到的情况等，需要记录下来，否则时间长了肯定就会忘记。这时候将这些学习笔记和心得记录在自己的博客中，和网友分享，这样既可以巩固自己的知识，也可以为碰到同样问题的朋友提供帮助。

Linux操作系统是一个２５岁的年轻系统，从诞生以来，凭借自由、分享和社区的理念迅速成为主流的Linux操作系统，与它的前辈UNIX比起来，更加灵活自由。

UEFI为个人计算机定义了下一代固件接口，是用来替代古老的基本输入和输出系统（BIOS）固件，可以说是BIOS2.0，其着眼点是满足下一代PC和笔记本电脑的需求。

**双系统：**
如果要安装Windows和Linux双重启动，需要注意系统安装顺序。首先安装Windows，在Windows中使用磁盘管理预留出Ubuntu系统的空间，然后再安装Ubuntu。

只有`/boot`分区需要将启动标志设置为on，其他分区保持默认的off即可。`/root`和`/swap`根分区和交换分区。

Everything is a File.

所有的I/O设备被分为块设备文件和字符设备文件，都与`/dev`目录下特殊文件联系在一起，用户无须了解硬件设备的读写方式，只需像操作普通文件一样操作特殊文件，即可达到访问I/O设备的目的。

磁盘存储设备被视为一个块设备文件，而键盘、鼠标和显示器则被视为字符设备文件。

#### 深入Ubuntu的文件系统

1. 根目录

- `/`，根目录即整个文件系统的逻辑终点。

2. 一级目录

- `/bin`:包含普通用户和系统、系统管理员可以共享的各种通用程序，如`bash`等常用的基本命令。

- `/boot`:包含系统引导程序`GRUB`及其配置文件、Linux内核文件`vmlinuz`和磁盘内存映像文件`initrd.img`等重要引导文件。

- `/dev`:包含系统支持的所有设备文件。具体来说，`console`表示系统控制台，`lp0`表示打印机，`mem`表示系统的物理内存，`sda`表示连接到主控制器上的第一个磁盘， `sda1`和`sda2`等则分别表示其中的第一个和第二个磁盘分区，`ttyXX`表示系统的串设备等。

- `/etc`:包含系统管理和维护方面的所有配置文件，需要注意的是，使用backups备份工具备份这个目录中的重要配置文件，以便需要时能够快速恢复系统。

- `/home`:包含所有普通用户的个人目录，每增加一个用户，系统一般就会在`/home`目录中创建一个和用户名相同的子目录作为该用户的个人目录。

- `/lib`:包含系统引导过程，以及运行系统命令所需要的内核模块和各种动态链接共享库文件（拓展名为.so，类似于Windows系统中的.dll文件）

- `/lost+found`:每个文件系统分区都会存在一个`lost+found`目录，用于存储`fsck`命令在检测与修复文件系统时删除的文件或目录。

- `/media`: 包含移动存储介质（移动硬盘或u盘）的挂载点，如插入u盘，系统将会自动将u盘挂载到此目录下的某个子目录中。

- `/mnt`: 包含所有自定义的文件系统的挂载点，可以挂载任何文件系统，如NFS或CIFS网络文件系统。

- `/opt`: 应用程序等附加软件的安装目录，类似于Windows系统中的Program Files目录。

- `/proc`: 虚拟文件系统，系统关闭时为空目录，系统运行时进程文件系统根目录，其中的部分文件分别对应当前正在运行的进程，可用于访问当前进程的地址空间。

- `/root`: 超级用户root的home目录。

- `/sbin`: 包含超级管理员的常用工具，如管理和维护、系统引导和修复命令集合。

- `/srv`: 分担了`/var`目录的一些功能，保存一些网络服务所用的数据文件。

- `/sys`: 和proc一样是虚拟目录，系统各种设备配置信息的根目录，如block子目录中含有磁盘及磁盘分区的配置信息。

- `/tmp`: 临时文件目录，用于存储系统运行过程中生成临时文件，也可以供用户存储自己的临时文件。需要注意的是，只有文件的创建者才能删除相应文件。

- `/usr`: 此目录既可以作为根目录下的一个子目录，其中保存系统提供的各种共享数据（如用户命令、库函数、头文件、文档），又可以作为一个单独的文件系统，可以认为是对根目录的一个递归目录，使得文件系统具有更大的灵活性。

- `/var`: 该目录和`/usr`目录类似，首先是根目录下的一个子目录，也可以作为一个单独的文件系统，用于存储各种可变长的数据文件（如日志文件）、暂存文件或待处理的临时文件等。

#### 重要的二级目录

- `/boot/grub`: 其中存有GRUB配置文件，以及３种不同类型的初始引导程序等。

- `/etc/apt`: 其中包含软件管理工具使用的配置文件。

- `/etc/cron.d`: 用于存储cron进程调度运行后台进程所用的配置和控制文件。

- `/etc/init.d`: 用于存储系统启动过程中需要由init调度执行的脚本文件。

- `/etc/network`: 其中包含网络接口配置文件interfaces，以及相关的配置工具。

- `/etc/X11`: 其中包含X服务器使用的各种配置文件，如xorg.conf等。

- `/usr/bin`: 其中包含用户经常使用的各种命令。

- `/usr/include`: 用于存储各种C语言头文件。这个目录及其子目录中的头文件是C开发人员需要经常引用的文件。

- `/usr/lib`: 其中包含各种共享的库函数，可供程序员以静态或动态的方式链接自己开发的应用程序。

- `/usr/sbin`: 其中包含系统引导完成之后系统管理员经常使用的各种系统管理和维护命令。

- `/usr/share`: 共享目录，其中包含man(联机文档的根目录)、info(GNU info文档的根目录)、doc(各种软件包特定的文档)、locale(语言环境)、vim(用户指南)等子目录。

- `/usr/src`: 用于存放Linux系统内核源码和文档等。

- `/var/lib`: 用于存储软件包特定的动态链接共享库、配置文件、数据文件、状态信息等。

- `/var/log`: 系统守护进程日志文件的存储目录。

- `/var/lock`: 用于存储各种服务进程或应用程序访问特定的设备或文件时。

- `/var/run`: 系统运行信息文件的根目录，其中的各种.pid文件存有相应守护过程的PID。另外一个最典型的文件`/var/run/utmp`，其中含有当前系统中的用户注册信息。

- `/var/spool`: 用于缓存各种等待处理的文件，如打印任务等。

- `/var/tmp`: 用于存储各种临时文件。

#### 文件类型

- `-`:普通文件

- `d`:目录文件

- `l`:链接文件

- `c`:字符特殊文件（键盘、鼠标）

- `b`:块特殊文件

#### 文件权限相关

1. 读（r）权限

如果文件具有读权限，则对应用户可以读取文件，如获取文件内容及复制文件等，但不能修改。如果目录具有读权限，则表示允许用户进入某个目录，并可以列出目录下的文件，所以目录至少应赋予读权限，否则无法访问。

2. 写（w）权限

如果文件具有写权限，则相应的用户可以读、写文件，包括获取文件内容，以及复制、修改、移动和删除文件等。对于目录而言，如果允许用户创建新文件和删除文件，则必须赋予用户写目录的权限。

3. 执行（x）权限

如果具有执行权限，则相应的用户可以运行文件（程序文件）。对于目录而言，如果允许用户访问其中的任何子目录，则必须赋予用户执行目录的访问权限。

#### 后端最底层软件包管理工具——dpkg

`dpkg`是Ubuntu软件包管理工具的基础，使用`dpkg`工具可以实现软件包的安装、卸载、查询、编译，以及打包应用程序等功能。

dpkg

- `-i`: 安装软件包

- `-r`: 卸载软件包，但不删除软件包的配置文件

- `-P`: 完全卸载软件包，包括所有相关的配置文件

- `-l`: 查看当前系统中已安装的软件包的信息

- `-L`: 查看当前系统中指定软件包所安装的相关文件

- `-s`: 查询已安装的指定软件包的详细信息

- `-S`: 查询系统中某个文件所属的软件包

#### `apt-get`命令行

- 搜索软件包：

```
$sudo apt-get search package_name
```

- 安装软件包：

```
$sudo apt-get install package_name
```

需要注意的是，要想重新安装某个软件包，在install子命令前面附加`--reinstall`参数即可。

- 删除软件包：

```
$sudo apt-get remove package_name
```

- 彻底删除：

```
$sudo apt-get --purge remove package_name
```

- 更新软件仓库列表：

```
$sudo apt-get update
```

- 更新软件包：

```
$sudo apt-get upgrade
```

需要注意的是，`apt-get update`和`aot-get upgrade`最大的区别是，update仅同步更新软件列表，而upgrade则根据列表更新软件本身。
